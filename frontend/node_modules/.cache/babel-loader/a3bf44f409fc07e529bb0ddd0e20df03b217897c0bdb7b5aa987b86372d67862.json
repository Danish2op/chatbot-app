{"ast":null,"code":"var _jsxFileName = \"D:\\\\chatb\\\\chatbot-app\\\\frontend\\\\src\\\\components\\\\MessageInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageInput = ({\n  onSendMessage,\n  disabled = false\n}) => {\n  _s();\n  const [message, setMessage] = useState('');\n  const textareaRef = useRef(null);\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 120)}px`;\n    }\n  }, [message]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!message.trim() || disabled) return;\n    const messageToSend = message.trim();\n    setMessage('');\n\n    // Reset textarea height\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n    try {\n      await onSendMessage(messageToSend);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      // Restore message on error\n      setMessage(messageToSend);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const handleInputChange = e => {\n    setMessage(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-input\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"message-form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: message,\n          onChange: handleInputChange,\n          onKeyDown: handleKeyDown,\n          placeholder: disabled ? \"Waiting for response...\" : \"Type your message...\",\n          disabled: disabled,\n          rows: 1,\n          className: \"message-textarea\",\n          style: {\n            resize: 'none',\n            overflow: 'hidden',\n            minHeight: '24px',\n            maxHeight: '120px',\n            opacity: disabled ? 0.6 : 1,\n            cursor: disabled ? 'not-allowed' : 'text'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !message.trim() || disabled,\n          className: \"send-button\",\n          style: {\n            opacity: !message.trim() || disabled ? 0.5 : 1,\n            cursor: !message.trim() || disabled ? 'not-allowed' : 'pointer'\n          },\n          children: disabled ? '⏳' : '→'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageInput, \"Xnwpzb2esK1XmXbaMu5Wh8+pYgY=\");\n_c = MessageInput;\nexport default MessageInput;\nvar _c;\n$RefreshReg$(_c, \"MessageInput\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","MessageInput","onSendMessage","disabled","_s","message","setMessage","textareaRef","current","style","height","Math","min","scrollHeight","handleSubmit","e","preventDefault","trim","messageToSend","error","console","handleKeyDown","key","shiftKey","handleInputChange","target","value","className","children","onSubmit","ref","onChange","onKeyDown","placeholder","rows","resize","overflow","minHeight","maxHeight","opacity","cursor","fileName","_jsxFileName","lineNumber","columnNumber","type","_c","$RefreshReg$"],"sources":["D:/chatb/chatbot-app/frontend/src/components/MessageInput.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\ninterface MessageInputProps {\n  onSendMessage: (message: string) => void;\n  disabled?: boolean;\n}\n\nconst MessageInput: React.FC<MessageInputProps> = ({ onSendMessage, disabled = false }) => {\n  const [message, setMessage] = useState('');\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-resize textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = `${Math.min(textareaRef.current.scrollHeight, 120)}px`;\n    }\n  }, [message]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!message.trim() || disabled) return;\n\n    const messageToSend = message.trim();\n    setMessage('');\n    \n    // Reset textarea height\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n\n    try {\n      await onSendMessage(messageToSend);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      // Restore message on error\n      setMessage(messageToSend);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e as any);\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setMessage(e.target.value);\n  };\n\n  return (\n    <div className=\"message-input\">\n      <form onSubmit={handleSubmit} className=\"message-form\">\n        <div className=\"input-container\">\n          <textarea\n            ref={textareaRef}\n            value={message}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            placeholder={disabled ? \"Waiting for response...\" : \"Type your message...\"}\n            disabled={disabled}\n            rows={1}\n            className=\"message-textarea\"\n            style={{\n              resize: 'none',\n              overflow: 'hidden',\n              minHeight: '24px',\n              maxHeight: '120px',\n              opacity: disabled ? 0.6 : 1,\n              cursor: disabled ? 'not-allowed' : 'text'\n            }}\n          />\n          <button\n            type=\"submit\"\n            disabled={!message.trim() || disabled}\n            className=\"send-button\"\n            style={{\n              opacity: (!message.trim() || disabled) ? 0.5 : 1,\n              cursor: (!message.trim() || disabled) ? 'not-allowed' : 'pointer'\n            }}\n          >\n            {disabled ? '⏳' : '→'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default MessageInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}